function checkorder(){
	$(".error").remove();
	fullname=$("input[name='fullname']");phone=$("input[name='phone']");city=$("input[name='city']");qh=$("input[name='qh']");
	px=$("input[name='px']");address=$("textarea[name='address']");
	if(fullname.val()==""){
		fullname.focus().after('<span class="error">Bạn chưa nhập họ và tên!</span>');return false
	}
	if(phone.val()==""){
		phone.focus().after('<span class="error">Bạn chưa nhập điện thoại!</span>');return false
	}
	/*if(city.val()==""){
		city.focus().after('<span class="error">Bạn chưa chọn tỉnh thành!</span>');return false
	}*/
	if(address.val()==""){
		address.focus().after('<span class="error">Bạn chưa nhập địa chỉ!</span>');return false
	}}
function loadding(){}
function loadconplex(){}
function msgshow(e){$("body").appendTo('<div class="msgshow alert alert-success">'+e+"</div>")}
function number_format(e){var t=e;for(i=0;i<t.length;i++){for(k=i;k<t.length;k++){if(t.charAt(k)==","){t=t.replace(",","")}}}var n=0;var r="";var s="";var o="";for(i=t.length-1;i>=0;i--){n=n+1;if(n==3){n=0;s=t.substring(0,i);o=t.substring(i,i+3);r=","+o+r}}if(s.length>0){r=s+r;return r}else if(r.length>0&&o.length>0){return r.substring(1,r.length)}}
function executeComma2(e){temp=e.value;for(i=0;i<temp.length;i++){for(k=i;k<temp.length;k++){if(temp.charAt(k)==","){temp=temp.replace(",","")}}}var t=0;var n="";var r="";var s="";for(i=temp.length-1;i>=0;i--){t=t+1;if(t==3){t=0;r=temp.substring(0,i);s=temp.substring(i,i+3);n=","+s+n}}if(r.length>0){n=r+n;e.value=n}else if(n.length>0&&s.length>0){e.value=n.substring(1,n.length)}}
function executeComma(e,t){if(e.keyCode>=96&&e.keyCode<=105){executeComma2(t)}else if(e.keyCode>=48&&e.keyCode<=57){executeComma2(t)}else if(e.keyCode==8||e.keyCode==46||e.keyCode==8||e.keyCode==9){executeComma2(t)}else{}}
function xoadau(e){
	var t=e;
t=t.toLowerCase();
t=t.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a");
t=t.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e");
t=t.replace(/ì|í|ị|ỉ|ĩ/g,"i");
t=t.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o");
t=t.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u");
t=t.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y");
t=t.replace(/đ/g,"d");
t=t.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g,"-");
t=t.replace(/-+-/g,"-");t=t.replace(/^\-+|\-+$/g,"");return t
}//End of xoadau(e)
var thisdomain="http://"+document.domain;
jQuery.fn.extend({check:function(){return this.each(function(){this.checked=true})},uncheck:function(){return this.each(function(){this.checked=false})}});//End of jQuery.fn.extend
$.fn.toggleCheck=function(){if(this.tagName==="INPUT"){$(this).prop("checked",!$(this).is(":checked"))}};
$.fn.toggleCheck=function(){if(this.tagName==="INPUT"){$(this).prop("checked",!$(this).is(":checked"))}};
$(function(){
	$(window).scroll(function(){
		if($(this).scrollTop()>100){
			$(".scrollToTop, .bar-bottom").fadeIn();
			if($(this).scrollTop()>500)
				$(".scrollTobottom").fadeOut();
$(".navbar").addClass("navbar-fixed-top")}else{$(".scrollToTop").fadeOut();
$(".navbar").removeClass("navbar-fixed-top");$(".scrollTobottom").fadeIn()}});
$(".scrollToTop").click(function(){$("html, body").animate({scrollTop:0},800);return false});
$(".scrollTobottom").click(function(){$("html, body").animate({scrollTop:$(document).height()},800);return false});
	$(".dropdown").hover(
			function(){$(".dropdown-menu",this).stop().fadeIn("fast")},
			function(){$(".dropdown-menu",this).stop().fadeOut("fast")}
	);
	$(".pricetoogle").click(function(){
		$("body").addClass("loading");
		$.post(thisdomain+"/index.php?ajax=toggle.price").done(function(){window.location.reload()})
	});
//End of $(function()
$(".hotkey").click(function(){
	val=$(this).attr("href");
	$("#sim").val(val);return false
});
$("input[name='simtype']").click(function(){$("body").addClass("loading");
$.post(thisdomain+"/index.php?ajax=toggle.simtype",{simtype:$(this).val()}).done(function(){window.location.reload()})});
$(".togglecheck").click(function(){$('input[name="check[]"]').each(function(){this.checked=!this.checked})});
$(".checktoggle").click(function(){$("input[type='checkbox']").check()});

//Del sim in Cart
$(document).on("click",".delcart",function(){
	fm=$(this);
	var e=$(this).data("sim");
	fm.parents("tr").find('input[name="order_idsim[]"]').val('');
	fm.parents("tr").fadeOut(function(){
		fm.remove;	
	});
	return false;
	/*
	$.ajax({
		url:thisdomain+"/index.php?ajax=ordered.delmycart&id="+e,
		cache:false,
		success:function(e){
			fm.parents("tr").hide("show");
			$("#total").html(e); //Tinh tong gia tien lai
			$("#cart").load(thisdomain+"/index.php?ajax=ordered.mycartcount");
			if(e==0)window.location="index.php"}})*/
});
			
//Add sim to cart
var i = 1;
var total_price = 0;
$(".addcart").click(function(){
	var idsim=$(this).data("idsim");
	var e=$(this).data("sim");
	var t=$(this).data("gia");
	var total_price = total_price +t;
	$("#myModal").modal("show");
	
//	$("#tableorder").find('tbody').append('<tr><td class="text-center">2</td><td><p></p></td><td><p> VNĐ</p></td></tr>');
	//$("#tableorder").find('tbody').append($('<tr>').append($('<td>').appendChild(e),$('<td>').appendChild(t)));
	var tr = $("#tableorder").find('tbody').append('<tr>');
	tr.append($('<td>').append($('<input type="hidden" name="id_sim[]">').val(idsim)));
	tr.append($('<td>').text(idsim));
	tr.append($('<td>').text(e));
	tr.append($('<td>').text(t));
	tr.append($('<td>').append($('<a>').text('Xóa')));
	i++;
	//$('#total_price').text(total_price);
	//$("#myModal").find(".modal-content").html(e);
	/*$.ajax({
		url:thisdomain+"/sim9xvn/?order_sim="+e+"&order_price="+t,
		cache:false,
		success:function(e){
			$("#myModal").find(".modal-content").html(e);
			$("#cart").load(thisdomain+"/index.php?ajax=ordered.mycartcount")
			}
	})*/
});
//
//$("#order").load(thisdomain+"/index.php?ajax=neworder",2e3).delay(3e3).fadeIn("show");
$(".ajax").click(function(){$url=$(this).attr("href");loadding();$.ajax({type:"GET",cache:false,url:$url,success:function(e){loadconplex();$("#myModal .modal-content").html(e)}});$("#myModal").modal("show");return false});$(".modal-content").on("submit",".ajax-form",function(e){var t=$(this).attr("action");var n=$(this);$(".ajax-form").find("input").removeClass("has-error has-feedback");$(".ajax-form").find("button[type='submit']").attr("disabled",true);$("span.error").remove();$(".alert-success").remove();loadding();$.ajax({type:"POST",url:t,data:n.serialize(),dataType:"json",error:function(e,t){console.log(arguments);alert(" Can't do because: "+t)},success:function(e){$(".ajax-form").find("button[type='submit']").attr("disabled",false);loadconplex();if(e["ok"]){$(".ajax-form").before('<div class="alert alert-success">'+e["ok"]+"</div>");return false}$.each(e,function(t,n){if(e[t]){$input=$(".ajax-form input[name='"+t+"'], .ajax-form textarea[name='"+t+"'],  .ajax-form select[name='"+t+"']");$input.parent().addClass("has-error has-feedback");$input.after("<span class='error'>"+e[t]+"</span>")}})}});return false});$(".ajax-form").submit(function(e){var t=$(this).attr("action");var n=$(this);$(".ajax-form").find("input").removeClass("has-error has-feedback");$(".ajax-form").find("button[type='submit']").attr("disabled",true);$("span.error").remove();$(".alert-success").remove();loadding();$.ajax({type:"POST",url:t,data:n.serialize(),dataType:"json",error:function(e,t){console.log(arguments);alert(" Can't do because: "+t)},success:function(e){$(".ajax-form").find("button[type='submit']").attr("disabled",false);loadconplex();if(e["ok"]){$(".ajax-form").before('<div class="alert alert-success">'+e["ok"]+"</div>");return true}$.each(e,function(t,n){if(e[t]){$input=$(".ajax-form input[name='"+t+"'],  .ajax-form textarea[name='"+t+"'], .ajax-form select[name='"+t+"']");$input.parent().addClass("has-error has-feedback");$input.after("<span class='error'>"+e[t]+"</span>")}})}});return false});$(".lock").click(function(){id=$(this).data("id");$(this).toggleClass("btn-info btn-danger");fm=$(this);$.post("index.php?ajax=users.lock",{id:id}).done(function(e){fm.text(e)})});$(".unactive").click(function(){id=$(this).data("id");$(this).toggleClass("btn-info btn-danger");fm=$(this);$.post("index.php?ajax=users.active",{id:id}).done(function(e){fm.text(e)})})})